---
title: "Troubleshoot Apps"
icon: "Bug"
---

This comprehensive troubleshooting guide provides step-by-step procedures for diagnosing and resolving issues with **Edge Apps** and **Screen Apps** deployed on physical devices or virtual machines managed by the Phygrid platform.

## Prerequisites

Before beginning the troubleshooting process, ensure you have the following:

- Access to a shell with elevated root permissions
- The [Phy CLI](https://www.npmjs.com/package/@phygrid/cli) installed and configured
- Proper authentication and tenant selection

> **Important:** Make sure you are logged into the Phy CLI and have selected the correct tenant before proceeding with troubleshooting steps.

#### Accessing Device Shell

To begin troubleshooting, you'll need to access the device shell using the Phy CLI:

```shell
phy dev shell <device_name>
```

Once connected to the device:

1. Press `Enter` to bring up the interactive menu
2. Select **Shell** from the available options

#### Switching to Root User

For most troubleshooting operations, you'll need elevated permissions. Switch to the root user:

```shell
sudo su
```

This will provide you with the necessary privileges to access logs, modify configurations, and perform diagnostic operations.

## **🔍 Common Troubleshooting Scenarios**

Before diving into specific troubleshooting procedures, here are the most frequently encountered issues and their quick solutions:

### **🛜 Device Not Connecting to PhyHub**

---

Device connectivity issues are encountered when deploying Edge or Screen Apps. When a device cannot establish or maintain a connection with PhyHub, it prevents app deployment, configuration updates, and real-time monitoring. This section provides comprehensive diagnostic procedures to identify and resolve connectivity problems.

#### **Step 1: Verify Device Network**

Firstly, ensure your device is connected to a working network via WIFI or LAN. You can confirm this by simply running the following command

```shell
ifconfig
```

Ensure the internet is working

```shell
ping google.com
```

**What to look for:**

- Confirm device received an IP
- Confirm that device is connected to internet by response of ping

#### **Step 2: Verify Device Provisioning Details**

Gather essential device information to understand the current configuration:

```shell
cat /data/settings/phyhub/region.json         # Region
cat /data/settings/phyhub/deviceId.json       # Device ID
cat /data/settings/phyhub/deviceSerial.json   # Device Serial
cat /data/settings/phyhub/osVersion.json      # OS Version
cat /data/settings/phyhub/gridEnv.json        # Environment
```

**What to look for:**

- Ensure region matches your tenant configuration
- Verify device ID is properly assigned (You can check the device ID from device settings page in [console](https://console.phygrid.com/))
- Check that environment settings are correct. The environment, in most cases should be **PROD**

#### **Step 3: Check PhyHub Connection Status**

Monitor the connection attempts and status by examining the device logs for PhyHub connection activity:

```shell
journalctl -u phydevice -o cat | grep -i "connectPhyHub():"
```

> **Expected output:** Look for successful connection messages or error patterns indicating connection failures.
> When a device successfully establishes connection with PhyHub, you can expect logs similar to the following:
>
> ```shell
> 2025-06-20T07:45:17.857Z [INFO] [phylogger-device-phyos] connectPhyHub(): Connected to PhyHub
> 2025-06-20T07:45:17.863Z [INFO] [phylogger-device-phyos] connectPhyHub(): Device connected with details: { deviceId: 'xxxx-xxxx-xxxxx-xxxx-' }
> 2025-06-20T07:45:17.863Z [INFO] [phylogger-device-phyos] connectPhyHub(): Environment already provisioned with device credentials, skipping configuration
> 2025-06-20T07:45:17.863Z [INFO] [phylogger-device-phyos] connectPhyHub(): Caching twins from server response...
> ```

If PhyHub connection is failing, verify network reachability by testing connectivity to the PhyHub portal:

```shell
curl http://portal-<region>.omborigrid.com/
```

> **Note:** Replace `<region>` with your device's region (see step 2 for how to find this information)

**What to look for:**

- **Connection Success:** Ensure the device is able to establish and maintain connection to PhyHub
- **Portal Accessibility:** Ensure the device is able to successfully cURL `http://portal-<region>.omborigrid.com/`
- **Network Blocking:** If no response is received from the portal, there's likely a network connectivity issue - ensure your network is not blocking access to `http://portal-<region>.omborigrid.com/`
- **DNS Resolution:** Verify DNS resolution is working properly to resolve the portal domain name

**Troubleshooting notes:**
| Issue | Symptoms | Solution |
| ------------------------ | ------------------------------------------ | -------------------------------------------- |
| **Network Timeout** | Connection attempts timeout | Check network stability |
| **Proxy Authentication** | 407/401 errors in logs | Verify proxy (if using custom proxy on device) and Network settings |
| **DNS Resolution** | Cannot resolve portal URLs | Check DNS configuration and network settings |
| **Certificate Issues** | SSL/TLS handshake failures | Verify system time and certificate validity |

### **🔀 Verify Twin Synchronization**

---

Twin synchronization is a critical process that ensures your device receives the latest configuration updates from PhyHub. This step verifies that the device is properly downloading and processing twin configurations, which contain essential app deployment and configuration information.

Ensure the device is receiving configuration updates from PhyHub by monitoring the twin initialization process:

```shell
journalctl -u phydevice -o cat | grep  "initInstances"
```

> **Expected output:**
>
> ```shell
> 2025-06-20T07:45:17.945Z [INFO] [phylogger-device-phyos] initInstances(): Initializing 4 instance twins
> 2025-06-20T07:45:17.945Z [INFO] [phylogger-device-phyos] initInstances(): Found 1 Edge twins to initialize: [
> 2025-06-20T07:45:17.945Z [INFO] [phylogger-device-phyos] initInstances(): Processing twin 684bed3e1589237ea2cf9992 of type Screen
> 2025-06-20T07:45:17.945Z [INFO] [phylogger-device-phyos] initInstances(): Starting Screen app for twin 684bed3e1589237ea2cf9992
> ```

**What to look for:**

- **Successful Twin Reception:** Whether the device is successfully receiving twin configurations from PhyHub
- **Initialization Errors:** Any errors during the twin initialization process that might prevent apps from starting
- **Twin Processing:** Confirmation that the device is processing the correct number and types of twins (Edge, Screen, etc.)

### **📈 Signal Transmission Issues**

---

The Phygrid platform utilizes three types of signals: **Client**, **Session**, and **Event** signals. These signals are essential for analytics, monitoring, and tracking user interactions with your applications. If your app is configured to send signals, there may be scenarios where the generated signals are not appearing in the analytics console.

To ensure signals are being generated correctly, you can use the following commands to inspect whether signals are being generated and examine their payload contents.

```shell
journalctl -u phydevice -o cat | awk '/sendEventSignal/,/^\}/'
journalctl -u phydevice -o cat | awk '/sendSessionSignal/,/^\}/'
journalctl -u phydevice -o cat | awk '/sendClientSignal/,/^\}/'
```

> **Expected output:** You should be able to see output similar to the following example:
>
> ```shell
> sendEventSignal(): sending Event Signal from device xxxxxx-xxxx-xxxx-xxxxx-xxxxxxxxxxx {
>   deviceId: 'xxxxxx-xxxx-xxxx-xxxxx-xxxxxxxxxxx',
>  data: {
>     g: 'UAE',
>     b: 'xxxxxx-xxxx-xxxx-xxxxx-xxxxxxxxxxx',
>     t: '2025-06-20T07:47:29.348',
>     s: 'MONITOR_CONTAINER_CRASH',
>     u: false,
>     h: 'xxxxxxxxxxxxxxxxxxxxxxx',
>     ac: undefined,
>     ad: 'xxxxxx-xxxx-xxxx-xxxxx-xxxxxxxxxxx',
>     c: 'xxxxxxxxxxxxxxxxxxxxxxx'
>   }
> }
> ```

The Phygrid platform automatically shortens signal keys in the payload as a way of compressing payload size for efficient transmission. To decode these shortened keys and understand what each field represents, refer to the Signal Key Lookup Table provided below.
| Actual Key | Short Key | | Actual Key | Short Key |
| :------------------ | :-------- | --- | :------------------------- | :-------- |
| captureId | a | | clientUserAgent | aj |
| sessionId | b | | clientDeviceVendor | ak |
| tenantId | c | | clientDeviceModel | al |
| sessionCreated | d | | clientDeviceType | am |
| ip | e | | clientOsName | an |
| environment | f | | clientOsVersion | ao |
| dataResidency | g | | clientBrowserName | ap |
| spaceId | h | | clientBrowserVersion | aq |
| appId | i | | clientBrowserMajor | ar |
| appVersion | j | | clientBrowserEngine | as |
| installationId | k | | clientBrowserEngineVersion | at |
| installationVersion | l | | clientCpuArchitecture | au |
| country | m | | clientScreenWidth | av |
| locationAccuracy | n | | clientScreenHeight | aw |
| latitude | o | | clientScreenColorDepth | ax |
| longitude | p | | clientScreenPixelDepth | ay |
| deviceId | q | | stateful | ba |
| clientId | r | | public | bb |
| eventType | s | | currency | bc |
| eventTime | t | | revenue | bd |
| interaction | u | | products | be |
| productId | v | | transactionId | bf |
| categoryId | w | | affiliation | bg |
| int1 | x | | shipping | bh |
| int2 | y | | tax | bi |
| int3 | z | | coupon | bj |
| int4 | aa | | str4 | af |
| int5 | ab | | str5 | ag |
| str1 | ac | | clientCreated | ah |
| str2 | ad | | clientIp | ai |
| str3 | ae | | | |

**What to look for:**

- **Signal Generation:** Verify that signals are being generated by your application and appearing in the device logs
- **Signal Types:** Confirm that the correct signal types (Client, Session, Event) are being sent based on your application's requirements
- **Payload Structure:** Check that signal payloads contain the expected data fields and are properly formatted
- **Transmission Success:** Look for confirmation messages indicating successful signal transmission to the PhyHub
- **Error Messages:** Identify any error messages or failed transmission attempts that might indicate connectivity or configuration issues
- **Data Completeness:** Ensure all required signal data fields are present and contain valid values

### **🔌 Device Becomes Inaccessible via Shell**

---

In some scenarios, a device may become inaccessible through the standard `phy dev shell <device_name>` command due to network issues, service failures, or configuration problems. This section provides alternative methods to access the device and extract essential logs for troubleshooting purposes.

If for any reason, a device becomes inaccessible via the `phy dev shell <device_name>` command or appears to be offline in console, you can still extract the necessary logs using alternative access methods.

#### **Method 1: SSH Access via Network (Recommended)**

If SSH was enabled on the device (by running `physsh enable`) and there is another PhyHub device available on the same network:

1. **Connect to an available device** via shell using the standard method
2. **Establish SSH connection** to the faulty device by running:

```shell
ssh phygrid@<faulty_device_name>.local
```

3. **Enter the shell** when prompted
4. **Begin troubleshooting** - you should now be able to access the device and perform diagnostic operations

> **Expected output:** Successful SSH connection should show the context menu on the faulty device

**What to expect:**

- **Successful connection** will show the device prompt and allow normal shell access
- **Connection timeouts** suggest network connectivity problems between devices or SSH connection is disabled on the faulty device
- **Host key warnings** are normal for first-time connections and can be accepted

#### **Method 2: Physical Access and Manual Recovery**

If SSH was **not** enabled on the device or there is no other PhyHub device on the same network:

1. **Physically connect a keyboard** to the device
2. **Open a terminal/shell** on the device
3. **Obtain root access** by running:

```shell
sudo su
```

4. **Export logs for backup** by running:

```shell
journalctl -u phydevice > logs_backup.txt
```

5. **Create a temporary user** for remote access:

```shell
adduser <username>
```

6. **Grant SSH permissions** to the temporary user:

   1. Run `visudo` to edit sudoers file
   2. Add `<username> ALL=(ALL:ALL) ALL` below the line where it says `root ALL=(ALL:ALL) ALL`
   3. Press `Esc` key and type `:wq` and hit `Enter` to save

7. **Get the device IP address** by running:

```shell
ifconfig
```

8. **Download logs from another device** (e.g., your laptop) by running:

```shell
scp <username>@<ip>:/root/logs_backup.txt /path/to/local/destination
```

9. **Access the backup logs** - you should now be able to access `logs_backup.txt` at `/path/to/local/destination` on your laptop

> **Expected output:** The log export should complete without errors:
>
> ```shell
> # journalctl -u phydevice > logs_backup.txt
> # ls -la logs_backup.txt
> -rw-r--r-- 1 root root 2048576 Jan 15 10:30 logs_backup.txt
> ```

**What to expect:**

- **Successful log export** will create a file with substantial size containing device logs
- **Permission errors** may occur if not running as root user
- **Disk space issues** may prevent log export if device storage is full
- **Network connectivity** should be verified before attempting SCP transfer

## **☁️ Debugging Edge Apps**

Edge Apps runs on both physcial devices and VMs, and can sometimes encounter issues during deployment and operation. This section provides comprehensive troubleshooting procedures to help you diagnose and resolve common problems. You'll learn how to verify device provisioning status, monitor container health, inspect signal events, and analyze application logs to identify and fix issues affecting your Edge App's performance.

### **⚙️ Troubleshoot Edge Twin Settings**

---

Edge twin settings contain the configuration and deployment information for your Edge Apps. This section helps you verify that the device has properly received and cached the edge twin configurations from PhyHub, which is essential for successful app deployment and operation.

First, check if the edge twin was downloaded and cached on the device:

```shell
journalctl -u phydevice -o cat | awk '/Caching Edge twin/'
```

> **Expected output:** You should see confirmation messages indicating edge twins were cached:
>
> ```shell
> cacheTwins(): Caching Edge twin xxxxxxxxxxxxxxxxxxxxxxx
> cacheTwins(): Caching Edge twin xxxxxxxxxxxxxxxxxxxxxxx
> ```

To verify if the device received the edge app details correctly, run the following command:

```shell
cd /data/settings/phyhub
ls  # Look for twins-device-<device_id>.json
```

Inspect the manifest to see all available twins:

```shell
cat twins-device-<device_id>.json
```

> **Expected output:** The manifest should show all twin types assigned to this device:
>
> ```json
> {
>   "Screen": ["xxxxxxxxxxxxxxxxxxxxxxx"],
>   "Device": ["xxxxxxxxxxxxxxxxxxxxxxx"],
>   "Edge": ["xxxxxxxxxxxxxxxxxxxxxxx"],
>   "Peripheral": ["xxxxxxxxxxxxxxxxxxxxxxx"]
> }
> ```

Check and verify the desired properties of an edge twin by running the following command. The `<edge_twin_id>` will be available from the previous command:

```shell
cat <edge_twin_id>-device-<device_id>.json | jq '.properties.desired'
```

> **Expected output:** The desired properties should contain complete deployment configuration:
>
> ```json
> {
>   "image": "xxxxxxxxxxx.xxxx/xxxxxxxxxxx:1.0.0",
>   "createOptions": {
>     "HostConfig": {
>       "NetworkMode": "host",
>       "RestartPolicy": {
>         "Name": "always"
>       },
>       "Privileged": true,
>       "Memory": 0,
>       "CpuShares": 0,
>       "DiskQuota": 0,
>       "ReadonlyRootfs": false,
>       "BlkioWeight": 0,
>       "BlkioDeviceReadBps": [],
>       "BlkioDeviceWriteBps": [],
>       "Devices": [],
>       "Binds": [],
>       "ExtraHosts": []
>     },
>     "Env": [],
>     "Cmd": null,
>     "WorkingDir": "",
>     "Volumes": null,
>     "RegistryCredentials": {
>       "xxxxxxxxxxx.xxxx": {
>         "username": "xxxx",
>         "password": "xxxx"
>       }
>     }
>   },
>   "credentials": {
>     "address": "xxxxxxxxxxx.xxxx",
>     "username": "xxxx",
>     "password": "xxxx"
>   },
>   "installationId": "xxxxxxxxxxx",
>   "appName": "xxxxxxxxxxx-1.0.0",
>   "settings": {
>     "name": "test"
>   },
>   "buildId": "xxxxxxxxxxx"
> }
> ```

**What to look for:**

- **Twin Caching:** Verify that edge twins are being successfully cached on the device with confirmation messages
- **Twin Presence:** Ensure the edge twin ID appears in the device manifest alongside other twin types
- **Complete Configuration:** Check that the desired properties contain all required deployment information including image, credentials, and settings
- **Registry Access:** Confirm that registry credentials are properly configured for pulling the container image
- **Network Configuration:** Verify that the HostConfig settings match your application's networking requirements
- **Resource Allocation:** Check that memory, CPU, and other resource limits are appropriately configured
- **Environment Variables:** Ensure any required environment variables are properly defined in the Env array
- **Volume Mounts:** Verify that necessary volume mounts and bindings are configured if your app requires persistent storage

### **🐳 Troubleshoot Docker Container**

---

Docker container management is a critical aspect of Edge App deployment. This section helps you diagnose issues related to container creation, image pulling, and container startup processes. Understanding the container lifecycle is essential for identifying where deployment failures occur.

First, check the current status of all Docker containers on the device:

```shell
docker ps -a
```

> **Expected output:** You should see a list of all containers with their status:
>
> ```shell
> CONTAINER ID   IMAGE                    COMMAND   CREATED         STATUS                     PORTS     NAMES
> abc123def456   myapp:latest            "/app"    2 minutes ago    Up 2 minutes              0.0.0.0:8080->8080/tcp   myapp-container
> def456ghi789   another-app:1.0.0       "/start"  5 minutes ago    Exited (1) 3 minutes ago             failed-container
> ```

**What to expect:**

- **Running containers** should show "Up" status with uptime
- **Stopped containers** will show "Exited" with exit codes
- **Missing containers** indicate deployment or creation failures

If no containers are available, there could be an issue during the image pulling process. To investigate this, run:

```shell
journalctl -u phydevice -o cat | grep pullImage
```

> **Expected output:** Look for image pull attempts and results:
>
> ```shell
> 2025-06-20T07:45:17.857Z [INFO] [phylogger-device-phyos] pullImage(): Pulling image myapp:latest
> 2025-06-20T07:45:20.123Z [INFO] [phylogger-device-phyos] pullImage(): Successfully pulled image myapp:latest
> ```

**What to expect:**

- **Successful pulls** will show completion messages
- **Failed pulls** may show authentication errors, network issues, or invalid image names
- **No output** indicates the image pull process hasn't been attempted

If the image was downloaded but container creation failed, run the following to investigate the reason for container failure:

```shell
journalctl -u phydevice -o cat | awk '/createContainer/,/^\}/'
```

> **Expected output:** Container creation logs should show the creation process:
>
> ```shell
> 2025-06-20T07:47:29.341Z [INFO] [phylogger-device-phyos] createContainer(): Twin object for xxxxxxxxxxxxxx: {
> ... container details
> }
> ```

**What to expect:**

- **Successful creation** will show container ID and confirmation along with the container details
- **Creation failures** may show configuration errors, resource constraints, or invalid options
- **Partial logs** indicate interrupted creation process

If the container was created successfully but failed to start, use the following commands to investigate the startup issues:

```shell
journalctl -u phydevice -o cat | grep startContainer
# or
journalctl -u phydevice -o cat | grep startEdgeApp
```

> **Expected output:** Container startup logs should show the launch process:
>
> ```shell
> 2025-06-20T07:47:29.341Z [INFO] [phylogger-device-phyos] startContainer(): Attempting to create container for twin xxxxxxxxxxxxxxxxx with GPU support
> 2025-06-20T07:47:29.351Z [INFO] [phylogger-device-phyos] startContainer(): Container created for twin xxxxxxxxxxxxxxxxx, preparing to start it
> 2025-06-20T07:47:29.390Z [INFO] [phylogger-device-phyos] startContainer(): Started container for twin xxxxxxxxxxxxxxxxx
> ```

**What to expect:**

- **Successful startup** will show confirmation messages
- **Startup failures** may show port conflicts, missing dependencies, or application errors
- **Immediate exits** indicate application crashes or configuration issues

**Common container issues and solutions:**

| Issue                          | Symptoms                                | Solution                                             |
| ------------------------------ | --------------------------------------- | ---------------------------------------------------- |
| **Image Pull Failure**         | Authentication errors, network timeouts | Verify registry credentials and network connectivity |
| **Container Creation Failure** | Invalid configuration, resource limits  | Check createOptions in twin configuration            |
| **Container Startup Failure**  | Port conflicts, missing volumes         | Verify port mappings and volume configurations       |
| **Application Crashes**        | Immediate exits, error logs             | Check application logs and dependencies              |

### **📡 Troubleshoot Events**

---

Event handling is a crucial component of Edge App communication with the Phygrid platform. This section helps you monitor and debug the various events that your Edge App generates, receives, and processes. Understanding event flow is essential for diagnosing communication issues between your application and the platform.

You can view the events generated by your Edge application, including reported properties, twin messaging, and updates received by the app. To view comprehensive event data, run the following command:

```shell
journalctl -u phydevice -o cat | awk '/handleInstanceMessage/,/^\}/'
```

> **Expected output:** You should see detailed event logs showing events emitted or handled by the device:
>
> ```shell
> SOCKET on(): Received twinUpdated event {
>   deviceId: '****************-****-****-****-************',
>   data: {
>     data: {
>       id: '************************',
>       deviceId: '****************-****-****-****-************',
>       tenantId: '************************',
>       version: 1,
>       status: 'Online',
>       statusHistory: '{"s":0,"t":1750363250903},{"s":1,"t":1750363385770},{"s":0,"t":1750379306822},{"s":1,"t":1750379332938},{"s":0,"t":1750380472871},{"s":1,"t":1750380503265},{"s":0,"t":1750381506449},{"s":1,"t":1750381523500},{"s":0,"t":1750405502434},{"s":1,"t":1750405640914},',
>       createdAt: '2025-06-13T10:14:41.725Z',
>       updatedAt: '2025-06-20T11:26:37.532Z',
>       lastStatusUpdatedAt: '2025-06-20T11:26:37.529Z',
>       type: 'Peripheral',
>       properties: [Object],
>       descriptors: [Object]
>     },
>     twinId: '************************'
>   }
> }
> ```

**What to expect:**

- **Event Reception:** Look for incoming events from PhyHub with complete data structures
- **Event Processing:** Verify that events are being processed correctly by your application
- **Data Completeness:** Ensure event payloads contain all expected fields and metadata
- **Error Handling:** Identify any failed event processing or communication errors

If you want to investigate the reported properties of your application specifically, run the following command:

```shell
journalctl -u phydevice -o cat | awk '/reportEdgeTwinProperties()/,/^\}/'
```

> **Expected output:** You should see property reporting activities from the device:
>
> ```shell
> reportEdgeTwinProperties(): Reporting twin ************************ properties {
> ... reported properties
> }
> reportEdgeTwinProperties(): Successfully reported properties for twin ************************
> ```

**What to expect:**

- **Property Reporting:** Confirm that your app is actively reporting properties to PhyHub
- **Reporting Success:** Look for successful property transmission confirmations
- **Property Updates:** Verify that property changes are being communicated in real-time
- **Error Messages:** Identify any failed property reporting attempts
- **Data Consistency:** Ensure reported properties match your application's current state

**Common event-related issues and solutions:**

| Issue                         | Symptoms                           | Solution                                                                                      |
| ----------------------------- | ---------------------------------- | --------------------------------------------------------------------------------------------- |
| **Event Not Received**        | No event logs, missing data        | Check network connectivity, PhyHub connection or event emitted by twins based on the use case |
| **Event Processing Failures** | Error messages in logs             | Verify event handler implementation and data validation                                       |
| **Property Reporting Issues** | Properties not updating in console | Check property reporting frequency and data format                                            |
| **Event Timing Problems**     | Delayed or missing events          | Verify event generation logic and network latency                                             |

## **🖥️ Debugging Screen Apps **

Use these steps to inspect and debug screen apps deployed to devices.

### **⚙️ Troubleshoot Screen Twin Settings**

---

Screen twin settings contain the configuration and deployment information for your Screen Apps. This section helps you verify that the device has properly received and cached the screen twin configurations from PhyHub, which is essential for successful screen app deployment and operation.

First, check if the screen twin was downloaded and cached on the device:

```shell
journalctl -u phydevice -o cat | awk '/Caching Screen twin/'
```

> **Expected output:** You should see confirmation messages indicating screen twins were cached:
>
> ```shell
> cacheTwins(): Caching Screen twin ************************
> ```

To verify if the device received the screen app details correctly, run the following command:

```shell
cd /data/settings/phyhub
ls  # Look for twins-device-<device_id>.json
```

Inspect the manifest to see all available twins:

```shell
cat twins-device-<device_id>.json
```

> **Expected output:** The manifest should show all twin types assigned to this device:
>
> ```json
> {
>   "Screen": ["************************"],
>   "Device": ["************************"],
>   "Edge": ["************************"],
>   "Peripheral": ["************************"]
> }
> ```

Check and verify the desired properties of a screen twin by running the following command. The `<screen_twin_id>` will be available from the previous command:

```shell
cat <screen_twin_id>-device-<device_id>.json | jq '.properties.desired'
```

> **Expected output:** The desired properties should contain complete screen app configuration:
>
> ```json
> {
>   "url": "https://screen.phygrid.com/************************/************************/************************/#browserId=****************-****-****-****-************&accessKey=****************-****-****-****-************&env=prod&spaceId=************************&deviceName=************************&instanceId=************************",
>   "screenResolution": "default",
>   "soundOutput": "hdmi1",
>   "soundInput": "default",
>   "scale": "1.0",
>   "screenOrientation": "landscape",
>   "enableDebug": false,
>   "installationId": "************************",
>   "buildId": "************************",
>   "settings": { ... }
> }
> ```

**What to look for:**

- **Twin Caching:** Verify that screen twins are being successfully cached on the device with confirmation messages
- **Twin Presence:** Ensure the screen twin ID appears in the device manifest alongside other twin types
- **Complete Configuration:** Check that the desired properties contain all required screen app information including appUrl, settings, and environment variables
- **Display Settings:** Verify that display mode, and other screen-specific settings are properly configured
- **Environment Variables:** Ensure any required environment variables are properly defined for the screen app
- **Auto-restart Configuration:** Check that auto-restart settings are appropriate for your use case
- **Build Information:** Verify that installationId, appName, and buildId are correctly set

### **4️⃣ Troubleshoot Physcreen**

If the device is displaying Phygrid logo (stuck at logo screen or stuck in a loop where it displays logo and black screen), run the following command to verify if the physcreen service is running

```shell
systemctl status physcreen
```

If the physcreen is running but still stuck at logo screen, run the following command to check logs if service is restarting or crashing:

```shell
tail /var/log/physcreen-manager
```

### **5️⃣ Troubleshoot Blank Screen**

If the app is stuck at white or black screen, you can troubleshoot by:

- Confirming if the app started:

```shell
journalctl -u phydevice -o cat | awk '/startPhyScreen/'
```

- Inspect app logs to find potential issues, while the app is running (_Note: \-f flag for real time logs_):

```shell
tail -f /var/log/physcreen-manager
```

### **6️⃣ Troubleshoot Reported Screen Properties**

To investigate the reported properties of screen app, run the following command

```shell
journalctl -u phydevice -o cat | awk '/setScreenInstanceReportedProperties/'
```

### **7️⃣ Troubleshoot Signals**

To view the Client, Session and Event signals generated from screen apps, run the following commands

```shell
journalctl -u phydevice -o cat | awk '/sendEventSignal/,/^\}/'
journalctl -u phydevice -o cat | awk '/sendSessionSignal/,/^\}/'
journalctl -u phydevice -o cat | awk '/sendClientSignal/,/^\}/'
```

Refer to the Signal Key Mapping table below.

### **8️⃣ Remote Debug via Chrome DevTools**

1. Forward from laptop:

```shell
phy dev forward <device_name> http://localhost:1234
```

2. Copy port from new browser tab

3. Open `chrome://inspect/#devices`

4. Enable _Discover network targets_ \> _Configure..._  
   _![][image1]_
5. Add `localhost:<port>`  
   `![][image2]`
6. Click **inspect** next to _Phygrid App_  
   _![][image3]_
7. Use DevTools to debug live DOM, console, and network (_Note: Interactions reflect on both the device and your laptop_)

### **9️⃣ Device Becomes Inaccessbile By Shell**

If for any reason, device becomes inaccessible via phy dev shell \<device_name\> command, you can still extract the necessary logs:

If the ssh was enable (by running physsh enable) on device and there is another phyhub device available under the same network

5. Connect to available device via shell
6. Run following command to connect to the device

```shell
ssh phygrid@<faulty_device_name>.local
```

7. Enter shell
8. Now you should be able to access the device again and can troubleshoot the issue

If the ssh was **not** enable on device or there is no other phyhub device in the same network

10. Physically connect a keyboard to the device.
11. Open shell
12. Get the root access by running

```shell
sudo su
```

13. Run following command to export logs to logs_backup.txt

```shell
journalctl -u phydevice > logs_backup.txt
```

14. Create a temporary user by running

```shell
adduser <username>
```

15. Now grant ssh permission to the user by:
    1. Running visudo
    2. Add \<username\> ALL=(ALL:ALL) ALL below the line where it says root ALL=(ALL:ALL) ALL
    3. Press esc key and type **:wq** and hit enter to save.
16. Get the IP of the device by running following command

```shell
ifconfig
```

17. From another device, eg your laptop, run following to download the exported logs file

```shell
scp <username>@<ip>:/root/logs_backup.txt /path/to/local/destination
```

18. Now you should be able to access logs_backup.txt at /path/to/local/destination on your laptop

---

#### **Advanced Diagnostics**

For persistent connection issues, enable verbose logging:

```shell
journalctl -u phydevice -f -o cat
```

This provides real-time connection monitoring to identify intermittent issues or connection patterns.

---

✅ **Checkpoint:** You now have a complete reference to debug both Edge and Screen Apps efficiently using CLI, logs, and DevTools.
