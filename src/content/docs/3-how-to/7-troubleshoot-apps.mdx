---
title: "Troubleshoot Apps"
icon: "Bug"
---

This comprehensive troubleshooting guide provides step-by-step procedures for diagnosing and resolving issues with **Edge Apps** and **Screen Apps** deployed on physical devices or virtual machines managed by the Phygrid platform.

## Prerequisites

Before beginning the troubleshooting process, ensure you have the following:

- Access to a shell with elevated root permissions
- The [Phy CLI](https://www.npmjs.com/package/@phygrid/cli) installed and configured
- Proper authentication and tenant selection

> **Important:** Make sure you are logged into the Phy CLI and have selected the correct tenant before proceeding with troubleshooting steps.

#### Accessing Device Shell

To begin troubleshooting, you'll need to access the device shell using the Phy CLI:

```shell
phy dev shell <device_name>
```

Once connected to the device:

1. Press `Enter` to bring up the interactive menu
2. Select **Shell** from the available options

#### Switching to Root User

For most troubleshooting operations, you'll need elevated permissions. Switch to the root user:

```shell
sudo su
```

This will provide you with the necessary privileges to access logs, modify configurations, and perform diagnostic operations.

## **üîç Common Troubleshooting Scenarios**

Before diving into specific troubleshooting procedures, here are the most frequently encountered issues and their quick solutions:

### **üõú Device Not Connecting to PhyHub**

---

Device connectivity issues are encountered when deploying Edge or Screen Apps. When a device cannot establish or maintain a connection with PhyHub, it prevents app deployment, configuration updates, and real-time monitoring. This section provides comprehensive diagnostic procedures to identify and resolve connectivity problems.

#### **Step 1: Verify Device Network**

Firstly, ensure your device is connected to a working network via WIFI or LAN. You can confirm this by simply running the following command

```shell
ifconfig
```

Ensure the internet is working

```shell
ping google.com
```

**What to look for:**

- Confirm device received an IP
- Confirm that device is connected to internet by response of ping

#### **Step 2: Verify Device Provisioning Details**

Gather essential device information to understand the current configuration:

```shell
cat /data/settings/phyhub/region.json         # Region
cat /data/settings/phyhub/deviceId.json       # Device ID
cat /data/settings/phyhub/deviceSerial.json   # Device Serial
cat /data/settings/phyhub/osVersion.json      # OS Version
cat /data/settings/phyhub/gridEnv.json        # Environment
```

**What to look for:**

- Ensure region matches your tenant configuration
- Verify device ID is properly assigned (You can check the device ID from device settings page in [console](https://console.phygrid.com/))
- Check that environment settings are correct. The environment, in most cases should be **PROD**

#### **Step 3: Check PhyHub Connection Status**

Monitor the connection attempts and status by examining the device logs for PhyHub connection activity:

```shell
journalctl -u phydevice -o cat | grep -i "connectPhyHub():"
```

> **Expected output:** Look for successful connection messages or error patterns indicating connection failures.
> When a device successfully establishes connection with PhyHub, you can expect logs similar to the following:
>
> ```shell
> 2025-06-20T07:45:17.857Z [INFO] [phylogger-device-phyos] connectPhyHub(): Connected to PhyHub
> 2025-06-20T07:45:17.863Z [INFO] [phylogger-device-phyos] connectPhyHub(): Device connected with details: { deviceId: 'xxxx-xxxx-xxxxx-xxxx-' }
> 2025-06-20T07:45:17.863Z [INFO] [phylogger-device-phyos] connectPhyHub(): Environment already provisioned with device credentials, skipping configuration
> 2025-06-20T07:45:17.863Z [INFO] [phylogger-device-phyos] connectPhyHub(): Caching twins from server response...
> ```

If PhyHub connection is failing, verify network reachability by testing connectivity to the PhyHub portal:

```shell
curl http://portal-<region>.omborigrid.com/
```

> **Note:** Replace `<region>` with your device's region (see step 2 for how to find this information)

**What to look for:**

- **Connection Success:** Ensure the device is able to establish and maintain connection to PhyHub
- **Portal Accessibility:** Ensure the device is able to successfully cURL `http://portal-<region>.omborigrid.com/`
- **Network Blocking:** If no response is received from the portal, there's likely a network connectivity issue - ensure your network is not blocking access to `http://portal-<region>.omborigrid.com/`
- **DNS Resolution:** Verify DNS resolution is working properly to resolve the portal domain name

**Troubleshooting notes:**
| Issue | Symptoms | Solution |
| ------------------------ | ------------------------------------------ | -------------------------------------------- |
| **Network Timeout** | Connection attempts timeout | Check network stability |
| **Proxy Authentication** | 407/401 errors in logs | Verify proxy (if using custom proxy on device) and Network settings |
| **DNS Resolution** | Cannot resolve portal URLs | Check DNS configuration and network settings |
| **Certificate Issues** | SSL/TLS handshake failures | Verify system time and certificate validity |

### **üîÄ Verify Twin Synchronization**

---

Twin synchronization is a critical process that ensures your device receives the latest configuration updates from PhyHub. This step verifies that the device is properly downloading and processing twin configurations, which contain essential app deployment and configuration information.

Ensure the device is receiving configuration updates from PhyHub by monitoring the twin initialization process:

```shell
journalctl -u phydevice -o cat | grep  "initInstances"
```

> **Expected output:**
>
> ```shell
> 2025-06-20T07:45:17.945Z [INFO] [phylogger-device-phyos] initInstances(): Initializing 4 instance twins
> 2025-06-20T07:45:17.945Z [INFO] [phylogger-device-phyos] initInstances(): Found 1 Edge twins to initialize: [
> 2025-06-20T07:45:17.945Z [INFO] [phylogger-device-phyos] initInstances(): Processing twin 684bed3e1589237ea2cf9992 of type Screen
> 2025-06-20T07:45:17.945Z [INFO] [phylogger-device-phyos] initInstances(): Starting Screen app for twin 684bed3e1589237ea2cf9992
> ```

**What to look for:**

- **Successful Twin Reception:** Whether the device is successfully receiving twin configurations from PhyHub
- **Initialization Errors:** Any errors during the twin initialization process that might prevent apps from starting
- **Twin Processing:** Confirmation that the device is processing the correct number and types of twins (Edge, Screen, etc.)

### **üìà Signal Transmission Issues**

---

The Phygrid platform utilizes three types of signals: **Client**, **Session**, and **Event** signals. These signals are essential for analytics, monitoring, and tracking user interactions with your applications. If your app is configured to send signals, there may be scenarios where the generated signals are not appearing in the analytics console.

To ensure signals are being generated correctly, you can use the following commands to inspect whether signals are being generated and examine their payload contents.

```shell
journalctl -u phydevice -o cat | awk '/sendEventSignal/,/^\}/'
journalctl -u phydevice -o cat | awk '/sendSessionSignal/,/^\}/'
journalctl -u phydevice -o cat | awk '/sendClientSignal/,/^\}/'
```

> **Expected output:** You should be able to see output similar to the following example:
>
> ```shell
> sendEventSignal(): sending Event Signal from device xxxxxx-xxxx-xxxx-xxxxx-xxxxxxxxxxx {
>   deviceId: 'xxxxxx-xxxx-xxxx-xxxxx-xxxxxxxxxxx',
>  data: {
>     g: 'UAE',
>     b: 'xxxxxx-xxxx-xxxx-xxxxx-xxxxxxxxxxx',
>     t: '2025-06-20T07:47:29.348',
>     s: 'MONITOR_CONTAINER_CRASH',
>     u: false,
>     h: 'xxxxxxxxxxxxxxxxxxxxxxx',
>     ac: undefined,
>     ad: 'xxxxxx-xxxx-xxxx-xxxxx-xxxxxxxxxxx',
>     c: 'xxxxxxxxxxxxxxxxxxxxxxx'
>   }
> }
> ```

The Phygrid platform automatically shortens signal keys in the payload as a way of compressing payload size for efficient transmission. To decode these shortened keys and understand what each field represents, refer to the Signal Key Lookup Table provided below.
| Actual Key | Short Key | | Actual Key | Short Key |
| :------------------ | :-------- | --- | :------------------------- | :-------- |
| captureId | a | | clientUserAgent | aj |
| sessionId | b | | clientDeviceVendor | ak |
| tenantId | c | | clientDeviceModel | al |
| sessionCreated | d | | clientDeviceType | am |
| ip | e | | clientOsName | an |
| environment | f | | clientOsVersion | ao |
| dataResidency | g | | clientBrowserName | ap |
| spaceId | h | | clientBrowserVersion | aq |
| appId | i | | clientBrowserMajor | ar |
| appVersion | j | | clientBrowserEngine | as |
| installationId | k | | clientBrowserEngineVersion | at |
| installationVersion | l | | clientCpuArchitecture | au |
| country | m | | clientScreenWidth | av |
| locationAccuracy | n | | clientScreenHeight | aw |
| latitude | o | | clientScreenColorDepth | ax |
| longitude | p | | clientScreenPixelDepth | ay |
| deviceId | q | | stateful | ba |
| clientId | r | | public | bb |
| eventType | s | | currency | bc |
| eventTime | t | | revenue | bd |
| interaction | u | | products | be |
| productId | v | | transactionId | bf |
| categoryId | w | | affiliation | bg |
| int1 | x | | shipping | bh |
| int2 | y | | tax | bi |
| int3 | z | | coupon | bj |
| int4 | aa | | str4 | af |
| int5 | ab | | str5 | ag |
| str1 | ac | | clientCreated | ah |
| str2 | ad | | clientIp | ai |
| str3 | ae | | | |

**What to look for:**

- **Signal Generation:** Verify that signals are being generated by your application and appearing in the device logs
- **Signal Types:** Confirm that the correct signal types (Client, Session, Event) are being sent based on your application's requirements
- **Payload Structure:** Check that signal payloads contain the expected data fields and are properly formatted
- **Transmission Success:** Look for confirmation messages indicating successful signal transmission to the PhyHub
- **Error Messages:** Identify any error messages or failed transmission attempts that might indicate connectivity or configuration issues
- **Data Completeness:** Ensure all required signal data fields are present and contain valid values

## **‚òÅÔ∏è Debugging Edge Apps**

Edge Apps run on physical devices and can encounter various issues during deployment and operation. This section provides comprehensive troubleshooting procedures to help you diagnose and resolve common problems. You'll learn how to verify device provisioning status, monitor container health, inspect signal events, and analyze application logs to identify and fix issues affecting your Edge App's performance.

---

### **3Ô∏è‚É£ Troubleshoot Edge Twin Settings**

To verify if the device received the edge app details, run the following command

```shell
cd /data/settings/phyhub
ls  # Look for twins-device-<device_id>.json
```

Inspect manifest:

```shell
cat twins-device-<device_id>.json
```

Check and verify desired properties of an edge twin by running the following. The \<edge_twin_id\> will be available from the previous command

```shell
cat <edge_twin_id>-device-<device_id>.json | jq '.properties.desired'
```

Confirm if the edge twin was downloaded on device:

```shell
journalctl -u phydevice -o cat | awk '/Caching Edge twin/'
```

---

### **4Ô∏è‚É£ Troubleshoot Docker Container**

Firstly check if the docker container status

```shell
docker ps -a
```

If there is no container available, there could be an issue while the image was being pulled. To investigate this, run:

```shell
journalctl -u phydevice -o cat | grep pullImage
```

If the image was downloaded but container creation failed, run following to investigate the reason of container failure:

```shell
journalctl -u phydevice -o cat | awk '/createContainer/,/^\}/'
```

If the container was created successfully, but failed to start, use the following commands to investigate the issues:

```shell
journalctl -u phydevice -o cat | grep startContainer
# or
journalctl -u phydevice -o cat | grep startEdgeApp
```

---

### **5Ô∏è‚É£ Troubleshoot Edge App On Device**

If the container exited unexpectedly, you can access the logs of your edge app by running following command.

```shell
docker logs <container_name_or_id>
```

Look for:

- Crashes

- Stack traces

- Missing dependencies

- Invalid env vars

If you want to execute commands directly inside your container for debugging purposes, you can use the following command:

```shell
docker exec -it <container_name_or_id> /bin/sh
```

After running the above command, you can continue debugging the app including:

- Inspect files & mounts

- Verify variables:

```shell
env | grep <ENV_VAR>
```

- Hit health endpoints (if available in your app):

```shell
curl http://localhost:<port>/health
```

---

### **8Ô∏è‚É£ Troubleshoot Events**

You can also view the events generated by your edge application. To view the events (including reported properties, signals, updates received by the app etc) run the following command

```shell
journalctl -u phydevice -o cat | awk '/handleInstanceMessage/,/^\}/'
```

If you want to investigate reported properties of your application specifically, run the following command:

```shell
journalctl -u phydevice -o cat | awk '/reportEdgeTwinProperties()/,/^\}/'
```

---

### **9Ô∏è‚É£ Device Becomes Inaccessbile By Shell**

If for any reason, device becomes inaccessible via phy dev shell \<device_name\> command, you can still extract the necessary logs:

If the ssh was enable (by running physsh enable) on device and there is another phyhub device available under the same network

1. Connect to available device via shell
2. Run following command to connect to the device

```shell
ssh phygrid@<faulty_device_name>.local
```

3. Enter shell
4. Now you should be able to access the device again and can troubleshoot the issue

If the ssh was **not** enable on device or there is no other phyhub device in the same network

1. Physically connect a keyboard to the device.
2. Open shell
3. Get the root access by running

```shell
sudo su
```

4. Run following command to export logs to logs_backup.txt

```shell
journalctl -u phydevice > logs_backup.txt
```

5. Create a temporary user by running

```shell
adduser <username>
```

6. Now grant ssh permission to the user by:
   1. Running visudo
   2. Add \<username\> ALL=(ALL:ALL) ALL below the line where it says root ALL=(ALL:ALL) ALL
   3. Press esc key and type **:wq** and hit enter to save.
7. Get the IP of the device by running following command

```shell
ifconfig
```

8. From another device, eg your laptop, run following to download the exported logs file

```shell
scp <username>@<ip>:/root/logs_backup.txt /path/to/local/destination
```

9. Now you should be able to access logs_backup.txt at /path/to/local/destination on your laptop

---

## **üñ•Ô∏è Debugging Screen Apps on Physical Devices**

Use these steps to inspect and debug screen apps deployed to devices.

---

### **1Ô∏è‚É£ Connect to the Device**

```shell
phy dev shell <device_name>
```

Once connected:

- Press `Enter` to bring up the menu.

- Select **Shell** from the list.

- Switch to the root user:

```shell
sudo su
```

---

### **2Ô∏è‚É£ Troubleshoot Device Connection With PhyHub**

To get the device provisioning details, you can use following commands

```shell
cat /data/settings/phyhub/region.json
cat /data/settings/phyhub/deviceId.json
cat /data/settings/phyhub/deviceSerial.json
cat /data/settings/phyhub/osVersion.json
cat /data/settings/phyhub/gridEnv.json
cat /etc/physcreen.env  # Proxy settings
```

To check the Phyhub connection:

```shell
journalctl -u phydevice -o cat | grep -i "connectPhyHub"
```

If the phyhub connection is failing, check if the proxy is working. Run the following command to see Phyhub is reachable by device _(Note: replace \<region\> by your device's region from the command mentioned previously)_. If you do not get and packets back, it means the is a issue with your network or proxy configurations.

```shell
curl http://portal-<region>.omborigrid.com/
```

Check if the device received the twins from Phyhub

```shell
journalctl -u phydevice -o cat | grep  "initInstances"
```

---

### **3Ô∏è‚É£ Troubleshoot Screen Twin Settings**

To verify if the device received the screen app details, run the following command

```shell
cd /data/settings/phyhub
ls  # Look for twins-device-<device_id>.json
```

Inspect manifest:

```shell
cat twins-device-<device_id>.json
```

Check and verify desired properties of the screen twin by running the following. The \<screen_twin_id\> will be available from the previous command

```shell
cat <screen_twin_id>-device-<device_id>.json | jq '.properties.desired'
```

Confirm if the screen twin was downloaded on device:

```shell
journalctl -u phydevice -o cat | awk '/Caching Screen twin/'
```

---

### **4Ô∏è‚É£ Troubleshoot Physcreen**

If the device is displaying Phygrid logo (stuck at logo screen or stuck in a loop where it displays logo and black screen), run the following command to verify if the physcreen service is running

```shell
systemctl status physcreen
```

If the physcreen is running but still stuck at logo screen, run the following command to check logs if service is restarting or crashing:

```shell
tail /var/log/physcreen-manager
```

---

### **5Ô∏è‚É£ Troubleshoot Blank Screen**

If the app is stuck at white or black screen, you can troubleshoot by:

- Confirming if the app started:

```shell
journalctl -u phydevice -o cat | awk '/startPhyScreen/'
```

- Inspect app logs to find potential issues, while the app is running (_Note: \-f flag for real time logs_):

```shell
tail -f /var/log/physcreen-manager
```

---

### **6Ô∏è‚É£ Troubleshoot Reported Screen Properties**

To investigate the reported properties of screen app, run the following command

```shell
journalctl -u phydevice -o cat | awk '/setScreenInstanceReportedProperties/'
```

---

### **7Ô∏è‚É£ Troubleshoot Signals**

To view the Client, Session and Event signals generated from screen apps, run the following commands

```shell
journalctl -u phydevice -o cat | awk '/sendEventSignal/,/^\}/'
journalctl -u phydevice -o cat | awk '/sendSessionSignal/,/^\}/'
journalctl -u phydevice -o cat | awk '/sendClientSignal/,/^\}/'
```

Refer to the Signal Key Mapping table below.

---

### **8Ô∏è‚É£ Remote Debug via Chrome DevTools**

1. Forward from laptop:

```shell
phy dev forward <device_name> http://localhost:1234
```

2. Copy port from new browser tab

3. Open `chrome://inspect/#devices`

4. Enable _Discover network targets_ \> _Configure..._  
   _![][image1]_
5. Add `localhost:<port>`  
   `![][image2]`
6. Click **inspect** next to _Phygrid App_  
   _![][image3]_
7. Use DevTools to debug live DOM, console, and network (_Note: Interactions reflect on both the device and your laptop_)

### **9Ô∏è‚É£ Device Becomes Inaccessbile By Shell**

If for any reason, device becomes inaccessible via phy dev shell \<device_name\> command, you can still extract the necessary logs:

If the ssh was enable (by running physsh enable) on device and there is another phyhub device available under the same network

5. Connect to available device via shell
6. Run following command to connect to the device

```shell
ssh phygrid@<faulty_device_name>.local
```

7. Enter shell
8. Now you should be able to access the device again and can troubleshoot the issue

If the ssh was **not** enable on device or there is no other phyhub device in the same network

10. Physically connect a keyboard to the device.
11. Open shell
12. Get the root access by running

```shell
sudo su
```

13. Run following command to export logs to logs_backup.txt

```shell
journalctl -u phydevice > logs_backup.txt
```

14. Create a temporary user by running

```shell
adduser <username>
```

15. Now grant ssh permission to the user by:
    1. Running visudo
    2. Add \<username\> ALL=(ALL:ALL) ALL below the line where it says root ALL=(ALL:ALL) ALL
    3. Press esc key and type **:wq** and hit enter to save.
16. Get the IP of the device by running following command

```shell
ifconfig
```

17. From another device, eg your laptop, run following to download the exported logs file

```shell
scp <username>@<ip>:/root/logs_backup.txt /path/to/local/destination
```

18. Now you should be able to access logs_backup.txt at /path/to/local/destination on your laptop

---

#### **Advanced Diagnostics**

For persistent connection issues, enable verbose logging:

```shell
journalctl -u phydevice -f -o cat
```

This provides real-time connection monitoring to identify intermittent issues or connection patterns.

---

‚úÖ **Checkpoint:** You now have a complete reference to debug both Edge and Screen Apps efficiently using CLI, logs, and DevTools.
